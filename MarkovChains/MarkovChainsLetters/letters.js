var corpus = "As we slowly approached our destination as the sky was getting dark I can see the clouds coming together and it look like a chance for rain. It was a warm summer night the kind with a slight breeze and just perfect for being outside. I was wearing my little shorts and my top that seems to never cover anything and you were dressed in your jeans, black baseball hat and one of those shirts with the color that could land an airplane with broad shoulders to match. I couldn't stop looking your way and smiling. You're also smiling back at me I love that smile. We both knew why we came here and we both knew that it was going to be great. Both of us were still sitting in the truck I scooted over into the middle of the bench and put my head on your shoulder it was nice. I laid my hand on your leg and then I decided to kneel up on my knees on the bench ,my elbow on the back and look straight into your eyes which were trying not to look away from my gaze. As you were talking because you were nervous I leaned over to the side of your face and I rubbed my nose on your ear and slowly kiss down your neck taking my hand and put it on the side of your face and pull your face towards mine and kiss your so sweet lips ever so sweetly. I kiss down the sides of your face down into your neck slowly sticking my tongue out and touch every bit of stubbly whiskers that are so desirable to me. You pull your arms out from your sides and put one on my side and the other on my face and you hold me as I kiss you and you kiss me the sensation that your kiss gives to me is indescribable. I love the way your hands feel when they touch me I love the way your lips feel when you kiss me.You slowly lean me back on the bench of the truck I've never done it in a truck before I'm so glad that it will be with you. You slowly slide your hands up my shirt and push my bra up,out of the way to grab my breast. which in turn I moan. Your touch sends chills down my spine and I cannot hold any moans inside. As the thunder rolls in the distance down comes the rain. The sound of the rain mixed with our breath and lover moans sets the mood for an intoxicating night.You caress the side of my body yanking my leg up high thrusting your pelvis down on to me I jerk my head back in pleasure and let it out moan so deep. With both of your arms above my head caressing my hair holding down my hands kissing my face my ears my neck I moan with delight. Again you thrust your hips forward and my pussy quivers with desire for you to introduce her to your Large Throbbing Cock. I thrust back to you and I pull your shirt up and I rub on your chest, kissing and licking. You deeply moan as you release all of your tenson. You look into my eyes and I look into your eyes and I can see that you want me and I want you too. I want you so bad! Please take me please do as you want with me tell me what you want me to do to you I will do anything I want to stick your huge cock in my mouth swirling around with my tongue it'll be so good and it will taste so good and you will moan with pleasure and I will touch myself and I will hop on top of you and ride you in the front seat of your truck in the bed of your truck I just want you to take me I want you to bend me over the tailgate of your truck I want you to pull my hair and RAM your dick up my freaking pussy and teach it a lesson because it's been bad, it's been so bad and it needs a real man to show it how good it feels. Ok got a little off track there. So you were on top of me in your truck on the front seat. I grab your ass and you grab mine and we slowly grinding each other and it feels so good. You're teasing me, rubbing the head of your cock on my clit and I'm moaning so bad, 'Oh yes, oh I want you to take me, I can't take it no longer' But I'm so glad that we waited and now that we can, it will be so good. I hike my leg up over the seat you take your Thick Cock and smack it on my wet Kitty. Rubbing it on my clit dipping the head in pussy. Circling it around my hole you slowly lower yourself into me. Looking down at me you say, 'Your pussy so tight' thrusting forward my titties bounce it feels so good. We hold each other and kiss and you slowly fuck me into bliss. I grab my chest and rub my nipples. I motion for you to come closer to lick them. Your tongue it so tingly I feel electrified. You pull up my other leg and sit up thrusting into me holding on and you look so hot and you're eyes barely open and you're sweating and it's dripping on me. Just 2 lovers & a Truck. The Rain's a comin' down and I'm in a playful mood. I hop on out and I go around to the driver's side and yank you out. Your reluctant but you come out anyways. It is not long before we are both soaking wet with warm summer rain. I pull you to me and we kiss deeply. You pull my shirt off, pick up my big breast with both hands and bury you face in them. Licking, Sucking and nibbling on them. I moan into the night sky through the rain and distant rumbles. I hike my leg up on the tailgate and you slide your fingers down my leg to my trembling kitty, cupping it in your hand, feeling it's warmth on your fingers. Twisting your fingers all around you tease me, I moan and grasp at your back. You turn me around and sit my ass on the gate you lift my leg into the air, kissing and nibbling all the way down. 'Oh Dennis you make me feel so good!' I feel your tongue making sweet love to my pussy and I am in heaven. I reach for you and pull you close to me. Leaning up I kiss you. I am so happy. I hope off the gate and turn you around kissing your lips and slowing going down your neck onto your shoulders and down your chest licking and kissing. I squat down at your hips and nuzzle my face into your soaking wet jeans. I feel your hard cock throbbing inside. I unbutton your jeans with my teeth and slide that zipper down. Gripping your hips I slide your jeans and boxers down. I glide my hands up your legs and over your ass. Sliding my tongue up the shaft of your cock, licking and swirling my tongue around the head. You grasp the sides of my face and have me look up at you while you pull me forward unto your Shaft. Slowly it enters my mouth and touches the back of my throat, you arch your head back and moan. I lean back and forth drooling all over your Hot Thick Rod. It is throbbing so hard it sends signals to my wet pussy. You pull me up to your face and lick my lips and I lick your and we kiss. You taste so good. Sliding your hands down my back onto my ass you pull me forward thrusting your cock between my thighs Oh so slippery. I turn around pressing my naked body against yours as the warm rain falls. Reaching round you fondle my breasts, teasing my nipples. Leaning my neck to the side you kiss and bite me, I moan into the night and bend forward thrusting my ass into your pelvis, rubbing your cock between my cheeks. You pull me up and look into my eyes, those eyes that make me melt inside. You kiss me hard and whip me around onto the tailgate and push me down. You rub the head of your cock on my pussy and thrust it in, I flip my head back and moan, 'Ugh yes it feels so good' Hot thick nearly ripping me apart and my pussy is going wild. I put my arms behind my back and you grab hold and pull me back as you thrust forward again and again. 'Ugh yah ugh ugh yes it feels so good. You pull me and and I turn around and site on the edge of the gate. You lift my legs and slide back in. 'Oh yah Dennis, yeah fuck me ugh ugh yes yes take me I can't take it no longer I want you please fuck me harder yeah it's so Hard' I start moving my hips faster and faster and I can tell that you're going to cum and you get ready to release and I'm screamin and your truck is rockin and feel so good and you pull it out and you blast it all over me and we're both moaning and I grab you and pull you down on top of me and we lay there or just a while and we look up at the now clear sky with the twinkling stars. I look over to you and say 'That was Wonderful.' and I smile."

var order = 4; 
var ngrams = {};  
var button; 
var charGenerated = 50; 

function setup() {
	noCanvas(); 

	for (var i = 0; i <= corpus.length-order; i++) {
		var gram = corpus.substring(i,i+order); 

		if (!ngrams[gram]) {
			ngrams[gram] = [];
		}
		ngrams[gram].push(corpus.charAt(i+order));  
	}
	button = createButton("Generate"); 
	button.mousePressed(markovIt); 
	console.log(ngrams); 
}

function markovIt() {
	// Start for the first gram 
	var currentGram = corpus.substring(0, order); 
	var result = currentGram; 

	for (var i = 0; i < charGenerated; i++){
		var possibilites = ngrams[currentGram]; 
		if (!possibilites){
			break; 
		}
		var next = random(possibilites); 
		result += next;
		var len = result.length;
		currentGram = result.substring(len-order, len);
	} 

	createP(result); 
}
